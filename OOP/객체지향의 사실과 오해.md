# 객체지향의 사실과 오해
> 객체지향의 사실과 오해 - 조영호 저 를 읽고 정리한 내용.
---
## 1. 협력하는 객체들의 공동체
* `역할`, `책입`, `협력` - 객체지향의 가장 중요한 세가지 개념
  
### `협력`, `역할`, `책임`
- `협력` 
  - 요청과 응답을 통해, 성공 요소는 특정역할을 맡은 각 개인이 얼마나 요청을 성실히 이행하는가에 달림.
  - `협력`의 핵심은 특정한 `책임`을 수행하는 `역할`들 간의 요청과 응답을 통해 목표를 달성한다는 것.
- `역할` 
  - 협력 안에서 차지하는 책임이나 임무를 의미
  - 역할은 대체가능하다. 책임을 성실히 이핼할 수 있으면 된다.
  - 동일한 역할을 수행할 수 있으면 요청자는 어떤 사람이 역할을 수행해도 문제가 없다.
  - 동시에 둘 이상의 역할을 수행할 수 있다.
- `책임`
  -  역할은 의미적으로 `책임`을 내포하고 있다. 특정한 `역할`은 `책임`을 암시 
  - 책임의 수행 방법은 자율적으로 선택가능하다. 요청 처리 방식은 다양할 수 있음.
  - 동일한 요청에 대해 다른 방식으로 응답할 수 있음.
> `역할`과 `책임`은 `협력`이 원한하게 징행되는데 필요한 핵심 구성 요소
> 
> **`협력`에 참여하며 특정한 `역할`을 수행하는 사람들은 역할에 적합한 `책임`을 수행한다.**

### `객체`
- 실제로 협력에 참여하는 주체
- 협력적이고, 자율적이어야 한다.
  - 어떤 방식으로 응답할지 객체 스스로 판단하고 결정.
  - 사적인 부분은 객체 스스로 관리하고, 외부에서 일체 간섭할 수 없도록 차단해야됨.
  - 접근이 허락된 수단을 통해서만 의사소통
  - 다른 객체가 무엇을 수행하는지는 알 수 있지만, 어떻게 수행하는지는 알 수 없다.
- 상태와 행위를 묶는 존재로 행동을 위해 필요한 상태를 함께 지녀야 한다.

### 객체에서의 `역할`
- 여러 객체가 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미힌다. -> 다형성
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
- 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

### `메시지`
 - 객체지향의 유일한 의사소통 수단 
 - 객체는 협력을 위해 다른 객체에게 메시지를 전송하고 다른 객체로 부터 메시지를 수신한다.
 - 협력은 메세지를 전송하고, 수신하는 객체 사이의 관계로 구성

### `메서드`와 `자율성`
 - 객체가 요청을 처리하기 위한 구체적인 방법인 메서드
 - 메시지와 메서드 분리는 객체의 자율성을 높이는 핵심 메커니즘이다.

### 객체지향의 본질
- 객체지향이란 시스템을 **상호작용하는 자율적인 객체의 공동체**로 보고 객체를 이용해서 시스템을 분할하는 방법.
- 자율적인 객체란 **상태**와 **행위**를 함께 지니며 스스로 자기 자신을 **책임**지는 객체
- 객체는 시스템의 행위를 구현하기 위해 **다른 객체와 협력**한다. 협력 내에서 정해진 역할을 수행하며 역할은 관련된 **책임의 집합**이다.
- 객체는 협력하기 위해 **메시지**를 전달하고, 메세지 처리에 적합한 **메서드를 자율적**으로 선택한다.

---
## 2. 이상한 나라의 객체

### 객체
  - 객체는 상태를 가지며 상태는 변경 가능한다.
  - 객체의 상태를 변경시키는 것은 객체의 행동이다.
    - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
    - 행동의 순서가 결과에 영향을 미친다.
  - 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.
  - 상태, 행동, 식별자를 지닌 실체
---
### 객체의 중요 특성
### 상태
  - 상태는 특정 시점에 객체가 가지고 있는 정보의 집합
  - 객체의 상태는 정적 프로퍼티와 동적 프로퍼티로 구성
    - 객체의 상태를 구성하는 모든 특징 - 프로퍼티
    - 프로퍼티는 변하지 않기 때무에 정적
    - 프로퍼티 값은 변경되기 때문에 동적
    - 프로퍼티는 속성과 링크의 조합
### 행동
  - 객체의 상태를 변경하는 것은 객체의 자발적인 행동
  - 객체의 행동은 상태에 영향을 받는다.
  - 객체의 행동은 상태를 변경시킨다.
  - 외부의 요청 또는 수신된 메시지에 응답하기 위한 동작
### 식별자
  - 객체를 다른 객체와 구분하는데 사용하는 객체 프로퍼티
  - 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사로 인스턴스를 비교한다.

---

## 03. 타입과 추상화

### 개념
- 특정한 객체가 어떤 그룹에 속할 것인지를 결정한다.
- 개념의 세가지 관점
  - 심볼 : 개념을 가리키는 이름이나 명칭 
  - 내연 ; 개념이 완전한 정의, 객체가 개념에 속하는지 구분 값
  - 외연 : 개념에 속하는 모든 객체 집합
- 객체를 분류하기 위한 틀
- 개념은 객체들의 복잡성을 극복하기 위한 추상화 도구
  - 일원화
  - 세부사항 제거

### 타입
- 타입은 개념이다. 개념과 타입의 정의는 같다.
- 타입은 추상화이다.
- 클래스는 타입을 구현하기 위한 프로그램밍 언어에서 제공하는 매커니즘 이다.
- 객체가 어떤 타입에 속하는지 경정하는 것은 객체가 수행하는 행동.
- 동일한 책임을 수행하는 일련의 겍체는 동일한 타입에 속한다.

### 타입의 계층
- 일반화/특수화 관계
  - 행동에 관한 것
  - 일반적인 타입 : 특수한 타입에 비해 더 적은 수의 행동을 가진다. 
  - 특수한 타입 : 일반적인 타입에 비해 더 많은 수의 행동과 일반적인 타입의 모든 행동을 동일하게 수행가능
- 슈퍼타입과 서브타입
  - 슈퍼타입
    - 일반적인 타입
  - 서브타입
    - 특수한 타입
    - 슈퍼타입을 대체할 수 있다.(호환성)
- 일반화는 추상화를 위한 도구이다. 

---

## 04. 역할, 책임, 협력
- 객체지향의 설계의 품질을 결정하는 역할, 책임, 협력
- 객체들의 협력에 집중하라.
- 협력
  - 요청 -> 응답 으로 구성
    - 요청과 응답은 객체가 수행할 책임
- 책임
  - 적절한 행동을 할 의무가 있으면 책임을 가지는 것.
  - 협력에 참여하는 객체는 책임을 수행한다.
  - 객체의 책임은 무엇을 알고, 무엇을 하는가로 구성.
    - 아는 것 : 외부에 제공해 줄 수 있는 정보
    - 하는 것 : 외부에 제공해 줄 수 있는 서비스
  - 메시지
    - 메시지 전송 : 객체가 다른 객체에 책임을 주어진 책임을 요청하는 것
- 역할
  - 약힐은 대체 될 수 있다.
  - 역할을 대체할 수 있는 객체는 동일한 메시지를 이해할 수 있는 객체
  - 동일한 역할은 동일한 메세지를 수신하고, 동일한 책임을 수행할 수 있어야 한다.
  - 역할을 이용하면 협력을 추상화하여 단순화 시킬 수 있다.
- 객체지향 설계 기법
  - 책임-주도 설계
    - 협력에 필요한 책입들을 식별하고 적합한 객체에 책임을 할당하는 방식
  - 디자인 패턴
    - 반복적으로 사용하는 해결 방법을 정의해 놓은 설계 템플릿 모음
  - 테스트-주도 개발
    - 테스트를 먼저 작성하고 테스트를 통과하는 구체적인 코드를 추가하면서 완성하는 방식

---

## 05. 책임과 메시지
- 객체에 명확한 책임, 명확한 역할을 부여해야 한다.
- 자율성
  - 자율적인 객체
    - 스스로의 의지와 판단에 따라 각자 맡은 책임을 수행하는 객체
  - 협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정한다.
  - 충분히 추상적인 동시에 협력의 의도를 뚜렷하게 표현할 수 있을 정도로 충분히 구체적이어야 한다.
- 메시지
  - 객체의 책임, 행동을 수행하게 만드는 방법
  - 메시지의 개념은 책임의 개념과 연결된다.
  - 송, 수신자의 결합도를 낮춤으로써 설계를 유연하고, 확장 가능하고, 재사용 가능하게 만든다.
  - 객체가 선택하는게 아니라 메시지가 객체를 선택하게 해야한다.
  - 수신 객체가 메시지의 의미를 이해하고 메시지를 전송한 객체가 의도대로 요청을 처리하는게 중요.
  - 메서드
    - 메세지를 처리하기 위해 내부적으로 선택하는 방법
  - 다형성
    - 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것
    - 다형성을 만족시킨다는 것은 객체들이 동일한 책임을 공유한다는 것.
    - 동일한 역할을 수행할 수 있는 객체들 사이의 대체 가능성을 의미한다.
- 객체 인터페이스
  - 특징
    - 인터페이스의 사용법을 익히면 내부 구조나 동작을 몰라도 대상을 조작하거나 의사를 전달할 수 있다.
    - 인터페이스 자체는 변경하지 않고 단순히 내부 구성이나 작동방식만을 변경하는 것은 인터페이스 사용자에게 영향을 미치지 않는다.
    - 대상이 변경되더라도 동일한 인터페이스를 제공하기만 하면 아무런 문제 없이 상호작용할 수 있다.
  - 추상적인 수준의 메시지를 수신할 수 있는 인터페이스를 제공하면 수신자의 자율성을 보장할 수 있다.
  - 최소 인터페이스 주의늰 외부에서 사용할 필요가 없는 인터페이스를 최대한 노출하지 말라는 것.
  - 구현
    - 객체를 구성하지만 공용 인터페이스에 포함되지 않는 모든 것이 구현에 포함된다.
  - 객체가 가져야할 상태, 메서드 구현은 객체 내부에 존재
  - 객체외부에 영향을 미치는 변경은 객체의 공용 인터페이스를 수정할 때뿐이다. 
  - 캡술화
    - 객체의 자율성 보존을 위해 국현을 외부에서 감추는 것
    - 상태와 행위의 캡슐화
    - 사적인 비밀의 캡슐화
- 객체의 자율성과 협력의 품질
  - 객체의 책임이 자율적일수록 협력이 이해하기 쉬워직고 유연하게 변경할 수 있다.
  - 자율적인 책임은 협력을 단순하게 만든다.
  - 자율적인 책임은 외부와 내부를 명확하게 분리한다.
  - 책임이 자율적인 경우 책임을 수행하는 내부적인 방법을 변경하더라도 외부 영향을 미치지 않는다.
  - 책임이 자율적일수록 적절하게 추상화되며, 응집도가 높아지고, 결합도가 낮아지며 캡슐화가 증진되고, 인터페이스와 구현이 명확히 분리 되며, 설계의 유연성과 재사용성이 향상된다.

---

## 06. 객체 지도
- 설계의 두가지 측면
  - 구조적 설계 - 형태가 어떠 어떠해야 하는지에 초점
  - 가능적 설계 - 제품이 사용자를 위해 무성르 할 수 있는지에 초점
- 객체지향 설계를 위한 기능과 구조
  - 기능 - 사용자의 목표를 만족시키기 이해 책임을 수행하는 시스템의 행위 
  - 구조 - 사용자나 이해관계짜들이 도메인에 관해 생각하는 개념과 개념들 간의 관계
- 도메인 모델 : 안정적인 재료
  - 사용자가 프로그램을 사용하는 대상 영역에 관힌 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
  - 이해관계자들이 바라보는 멘탈 모델
  - 변경에 유연하게 대응할 수 있는 탄력적인 개발 가능.
- 유스케이스 - 불안전한 재료
  - 사용자와 시스템 간에 이루어지는 상호작용의 흐름을 텍스트로 정리한 것
  - 소프트웨어의 기능을 기술하기 위한 방법
  - 사용자와 시스템 간의 상호작용을 보여주는 텍스트
  - 여러 시나리오의 집합
  - 단순한 피처(feature)와는 다르다.
  - 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다.
  - 내부 설계와 관련된 정보를 포함하지 않는다.
  - 사용자가 바라보는 시스템의 외부 관점만을 표현한다.
- 기능과 구조의 통합
  - 도메인 모델은 안정적인 구조를 개념화 하고, 유스케이스는 불안정한 기능을 서술하기위해 상용되는 도구.
  - 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배한다.

---  

## 07. 함께 모으기
- 객체지향 설계 안에 존재하는 세가지 상호 연관된 관점
  - 개념 관점
    - 도메인 안에 존재하는 개념과 개념들 사이의 관계
  - 명세 관점
    - 도메인 개념이 아니라 실제로 소프트웨어 안에서의 객체들의 채김에 초점을 맞춤
  - 구현 관점
    - 객체들이 책임을 수행하는 데 필요한 동작하는 코드를 작성하는 것